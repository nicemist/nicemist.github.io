[{"title":"WEB登录爆破","url":"/2023/08/16/WEB%E7%99%BB%E5%BD%95%E7%88%86%E7%A0%B4/","content":"环境准备本次用到的靶场有：pikachu、webug、dvwa\nBurp版本：2023.7.1\n\n\n基于表单的暴力破解\n环境：pikachu-基于表单的暴力破解\n\n\n进行Burp抓包，并发送到Intruder模块\n\n添加爆破变量，设置类型为Cluster bomb\n\n在Payloads配置字典，开始爆破\n得到结果，对长度进行排序，并查看响应头信息\n\n\n\n服务端绕过验证码\n环境：pikachu-验证码绕过(on server)\n\n\nBurp抓包，发送到Repeater模块\n\n通过尝试修改参数，发现vcode可复用\n发送到Intruder模块进行爆破\n添加爆破变量，设置类型为Cluster bomb\n配置payload，进行爆破\n\n得到结果\n\n\n\n客户端绕过验证码\n环境：验证码绕过(on client)\n\n\n点击验证码，网络信息没有新增，判断是验证码属于客服端\nBurp抓包，发送到Repeter模块，进行参数修改，验证是否属于客户端\n\n发送到Intruder，进行爆破\n步骤略…\n得到结果\n\n\n\ntoken防爆破\n环境：pikachu-token防爆破\n\n\n在发送的请求中cookie上带有token信息，这个token是唯一的，每一次请求对应唯一的token\n在查看源代码发现，下一次请求生成的token被隐藏在html中，\n\n因此爆破时候需要找到对应的token值，而下一次的token可以在响应包里找到\n\nBurp抓包，再次进行对admin账户的爆破\n发送到Intruder模块，设置模式为Pitchfork，添加变量\n\n配置payloads，token变量类型为Recursive grep模式\n\n设置线程为1\n\n设置Grep-Extract\n\n这个设置可用于将响应中的有用信息提取到攻击结果表中。\n\n\n\n在Payload settings设置本次token的值\n\n开始爆破，结果如下\n\n\n\n自动重定向\n环境：webug登录界面\n\n通过爆破得知登录成功后会进行302跳转\n\n当用户名和密码输入正确的时候，会跳转到另一个页面，通过Bur可以设置自动跳转\nBurp抓包，发送到Intruder\n设置模式和变量\n设置payloads\n设置Redirections，勾选 On-site-only 和 Process cookies in redirections\n\nOn-site-only只允许这个网站进行跳转\nProcess cookies in redirections：处理重定向中的Cookie，在遵循重定向目标时，将重新提交重定向响应中设置的所有Cookie。\n\n\n开始爆破，得到结果\n\n可以利用Burp中的包进行登录\n\n\n将链接粘贴到浏览器进行访问，可以直接登录\n用这种方法登录的前提：浏览器开启代理，Burp关闭抓包\n\n\ncookie使用\n环境：dvwa靶场登录界面\n跟pikachu靶场中的大同小异\n\n每次登录请求中的cookie带有user_token\n\n通过查看源码，可以知道每次请求中的token都藏在了form表单中\n\nBurp抓包，在Repeater模块，和上面的token防爆破不一样\npikachu靶场中的，下一次token可以在响应包李找到\n\ndvwa靶场中，需要跳转一次才可以找到token\n点击Follow rdirection跳转\n\n找到token\n\n重新抓包，发送到Intruder模块，进行配置\n\n\n\n\n\n\n注意点：要先选择跳转，在添加Grep-Extract，要不然找不到token\n开始爆破，得到结果\n\n找到请求包里的PHPSESSID\n\n进行替换\n\n然后访问index.php\n\n\n\nphpMyAdmin爆破\n\n每次刷新都会生成一个新的phpMyAdmin和token的值\n\n抓包可以看出请求信息里面包含phpMyAdmin和token的值\n利用专用的工具进行爆破\n\n爆破成功\n\n","tags":["爆破"]},{"title":"Win10系统下设置鼠标右键新建Markdown文档","url":"/2023/08/15/Win10%E7%B3%BB%E7%BB%9F%E4%B8%8B%E8%AE%BE%E7%BD%AE%E9%BC%A0%E6%A0%87%E5%8F%B3%E9%94%AE%E6%96%B0%E5%BB%BAMarkdown%E6%96%87%E6%A1%A3/","content":"安装环境\nWin10系统\n已安装Typora\n\n步骤\n新建文本文档，写入下面代码，保存\nWindows Registry Editor Version 5.00[HKEY_CLASSES_ROOT\\\\.md]@=&quot;MarkdownFile&quot;&quot;PerceivedType&quot;=&quot;text&quot;&quot;Content Type&quot;=&quot;text/plain&quot;[HKEY_CLASSES_ROOT\\\\.md\\\\ShellNew][HKEY_CLASSES_ROOT\\\\MarkdownFile]@=&quot;Markdown文档&quot;[HKEY_CLASSES_ROOT\\\\MarkdownFile\\\\DefaultIcon]@=&quot;%SystemRoot%\\\\system32\\\\imageres.dll,-102&quot;[HKEY_CLASSES_ROOT\\\\MarkdownFile\\\\shell][HKEY_CLASSES_ROOT\\\\MarkdownFile\\\\shell\\\\open]\n\n将文件名后缀改为 .reg ，运行，在弹出的窗口选择是\n\nWin + R ，输入 regedit ，回车，打开注册表编辑器\n\n进入指定目录 计算机\\\\HKEY_CLASSES_ROOT\\\\.md\\\\ShellNew ，\n\n对 ShellNew 右键，新建字符串，名为 NullFile\n\n鼠标左键双击 NullFile ，将数值数据更改为 typora.md\n\n关闭所有窗口，桌面，右键，新建，Markdown文档\n\n\n","categories":["技术分享"],"tags":["mardkdown"]},{"title":"本机访问虚拟机中的靶场域名","url":"/2023/08/16/%E6%9C%AC%E6%9C%BA%E8%AE%BF%E9%97%AE%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E7%9A%84%E9%9D%B6%E5%9C%BA%E5%9F%9F%E5%90%8D/","content":"问题引入在虚拟机中搭建的靶场，如何在本机中进行访问\n在Phpstudy中给靶场配置域名，怎么在本机通过域名访问\n\n\n解决方法修改本机 C:\\Windows\\System32\\drivers\\etc 目录下的 hosts 文件\n在末尾添加\n[IP地址] [域名]#例如：192.168.66.20 pikachu.cn\n\n如果建立了多个靶场，可在域名后面空一格继续追加\n192.168.66.20 pikachu.cn webug.cn \n\n\n\n注意\n给靶场设置域名时，尽量使用 cn 结尾的后缀\nhosts文件中IP地址与域名之间至少空一格\n\n","categories":["技术分享"],"tags":["靶场"]},{"title":"端口服务爆破","url":"/2023/08/16/%E7%AB%AF%E5%8F%A3%E6%9C%8D%E5%8A%A1%E7%88%86%E7%A0%B4/","content":"常见端口服务\n\n\n端口\n服务\n入侵方式\n\n\n\n21\nftp&#x2F;tftp&#x2F;vsftpd文件传输协议\n爆破&#x2F;嗅探&#x2F;溢出&#x2F;后门\n\n\n22\nssh远程连接\n爆破&#x2F;openssh漏洞\n\n\n23\nTelnet远程连接\n爆破&#x2F;嗅探&#x2F;弱口令\n\n\n25\nSMTP邮件服务\n邮件伪造\n\n\n53\nDNS域名解析系统\n域传送&#x2F;劫持&#x2F;缓存投毒&#x2F;欺骗\n\n\n67&#x2F;68\ndhcp服务\n劫持&#x2F;欺骗\n\n\n110\npop3\n爆破&#x2F;嗅探\n\n\n139\nSamba服务\n爆破&#x2F;未授权访问&#x2F;远程命令执行\n\n\n143\nImap协议\n爆破\n\n\n161\nSNMP协议\n爆破&#x2F;搜集目标内网信息\n\n\n389\nLdap目录访问协议\n注入&#x2F;未授权访问&#x2F;弱口令\n\n\n445\nsmb\nms17-010&#x2F;端口溢出\n\n\n512&#x2F;513&#x2F;514\nLinux Rexec服务\n爆破&#x2F;Rlogin登陆\n\n\n873\nRsync服务\n文件上传&#x2F;未授权访问\n\n\n1080\nsocket\n爆破\n\n\n1352\nLotus domino邮件服务\n爆破&#x2F;信息泄漏\n\n\n1433\nmssql\n爆破&#x2F;注入&#x2F;SA弱口令\n\n\n1521\noracle\n爆破&#x2F;注入&#x2F;TNS爆破&#x2F;反弹shell\n\n\n2049\nNfs服务\n配置不当\n\n\n2181\nzookeeper服务\n未授权访问\n\n\n2375\ndocker remote api\n未授权访问\n\n\n3306\nmysql\n爆破&#x2F;注入\n\n\n3389\nRdp远程桌面链接\n爆破&#x2F;shift后门\n\n\n4848\nGlassFish控制台\n爆破&#x2F;认证绕过\n\n\n5000\nsybase&#x2F;DB2数据库\n爆破&#x2F;注入&#x2F;提权\n\n\n5432\npostgresql\n爆破&#x2F;注入&#x2F;缓冲区溢出\n\n\n5632\npcanywhere服务\n抓密码&#x2F;代码执行\n\n\n5900\nvnc\n爆破&#x2F;认证绕过\n\n\n6379\nRedis数据库\n未授权访问&#x2F;爆破\n\n\n7001&#x2F;7002\nweblogic\njava反序列化&#x2F;控制台弱口令\n\n\n80&#x2F;443\nhttp&#x2F;https\nweb应用漏洞&#x2F;心脏滴血\n\n\n8069\nzabbix服务\n远程命令执行&#x2F;注入\n\n\n8161\nactivemq\n弱口令&#x2F;写文件\n\n\n8080&#x2F;8089\nJboss&#x2F;Tomcat&#x2F;Resin\n爆破&#x2F;PUT文件上传&#x2F;反序列化\n\n\n8083&#x2F;8086\ninfluxDB\n未授权访问\n\n\n9000\nfastcgi\n远程命令执行\n\n\n9090\nWebsphere控制台\n爆破&#x2F;java反序列化&#x2F;弱口令\n\n\n9200&#x2F;9300\nelasticsearch\n远程代码执行\n\n\n11211\nmemcached\n未授权访问\n\n\n27017&#x2F;27018\nmongodb\n未授权访问&#x2F;爆破\n\n\n\n参考资料\n\n\n\n\n\n靶场准备\nIP：192.168.66.3\n开放端口：21，22，3306\n\n\n\n字典准备\nkali：crunch  \nWindows：白鹿社工字典生成器，在线字典生成网站等\n\n\n\nhydra爆破hydra是Kali系统中的一个可视化工具,它可以利用众多协议进行口令、账号、密码的爆破,同样支持FPT、MYSQL、SMTP、TELNET、SSH等众多的协议爆破。\n在终端输入 hydra 即可进行打开\n\n\n\n\n\n\n\n\n\n\n\n点击START即可开始爆破\n\n\n\n超级弱口令检查工具是Windows平台下的一款工具，界面如下\n\n\n\n注意爆破ssh时线程要低，建议1-10\n\n\n远程连接\n如果目标服务器是Windows系统，在Windows系统下使用命令 mstsc 进行登录\n\nmstsc 192.168.66.20\n\n\nLinux系统使用命令 rdesktop [IP]\n\nrdesktop 192.168.66.20\n\n\nXshell进行连接：ssh [user]:[password]@[Ip]\n\nssh admin:123456@192.168.66.20\n\n","tags":["爆破"]}]